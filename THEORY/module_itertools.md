Модуль itertools доступен в питоне «из коробки», т.е. его нет необходимости устанавливать дополнительно. А значит, он будет доступен на экзамене.

Ссылка на документацию по модулю [https://docs.python.org/3/library/itertools.html](https://vk.com/away.php?to=https%3A%2F%2Fdocs.python.org%2F3%2Flibrary%2Fitertools.html&cc_key=)

Для импорта необходимых функции необходимо их импортировать из модуля
```
from itertools import product, permutations
```

## **product**

Позволяет получить прямое, или декартово произведеение двух множеств — множество, элементами которого являются ==все возможные упорядоченные пары элементов== исходных множеств.

```
a = ‘AB’

b = ‘CD’

print(*product(a, b))


```

```
(‘A’, ‘C’) (‘A’, ‘D’) (‘B’, ‘C’) (‘B’, ‘D’)
```

Получение произведения двух множеств не очень актуально в 8 задании, но мы можем использовать другую возможность функции product: получение всевозможных комбинаций определенной длины для одного множества.

```
a = ‘AB’

print(*product(a, repeat=3))

```

```
(‘A’, ‘A’, ‘A’) (‘A’, ‘A’, ‘B’) (‘A’, ‘B’, ‘A’) (‘A’, ‘B’, ‘B’) (‘B’, ‘A’, ‘A’) (‘B’, ‘A’, ‘B’) (‘B’, ‘B’, ‘A’) (‘B’, ‘B’, ‘B’)
```

Мы получили всевозможные комбинации длины 3 для набора из двух букв АВ. Причем результат работы функции — ==набор кортежей==.

Параметр repeat отвечает за длину слова.

Из полученных наборов мы можем выбрать подходящие для нас. Например, так можно решить задание из демоверсии 2021.

![Модуль itertools для решения задания 8, изображение №1](https://sun9-47.userapi.com/impf/bW1kQWd4iZXL_BACIqetWBAuyZJ-L9n9-YS89w/X5IkZg49NL4.jpg?size=807x255&quality=96&sign=b6d6a7aa415dc3fdf99648c47cc20d64&type=album)

Длина слова здесь 3, а набор букв — ШКОЛА. Получим всевозможные комбинации:

```
a = ‘ШКОЛА’

comb = product(a, repeat=3))
```

Осталось выбрать те, где буква К встречается ровно 1 раз.

![Модуль itertools для решения задания 8, изображение №2](https://sun9-34.userapi.com/impf/7gW6HML3gedn7xf12HB-cJabUHf62KqY7j-XBA/HaLW8ea0t5Y.jpg?size=346x150&quality=96&sign=4dadc0ac1126e062a61f43067e3910d7&type=album)

Поскольку подсчет количества вхождений в кортеж организовать сложнее, чем в строке, здесь элементы кортежа «склеиваются» по пустой строке, образуя тем самым не кортеж, а строку. Метод count подсчитывает количество вхождений подстроки ‘K’.


## **permutations**

Позволяет получить всевозможные перестановки.

```
print(*permutations(‘ABC’))
```

```
(‘A’, ‘B’, ‘C’) (‘A’, ‘C’, ‘B’) (‘B’, ‘A’, ‘C’) (‘B’, ‘C’, ‘A’) (‘C’, ‘A’, ‘B’) (‘C’, ‘B’, ‘A’)
```

Это опять ==набор кортежей==.

Рассмотрим такое задание с сайта kpolyakov.spb.ru

![Модуль itertools для решения задания 8, изображение №3](https://sun9-68.userapi.com/impf/skA9K_uT1h4gKn-dmb61FxfdBR3l4Mx2DCkTrw/kTEXW-4CQMQ.jpg?size=807x41&quality=96&sign=fdfb5d7feb58808c3ad7af86a77a1bb6&type=album)

Получаем перестановки

```
a = ‘КАПКАН’

comb = permutations(a)
```

И отбираем нужные варианты

![Модуль itertools для решения задания 8, изображение №4](https://sun9-48.userapi.com/impf/zF7aPT7GWW69PG2cF0xNM_p5igOOxABmK-gYFQ/fTbOy3sxruc.jpg?size=288x217&quality=96&sign=f386771a8d43ef882652c22a36daa9ae&type=album)

Поскольку в слове КАПКАН есть повторяющиеся буквы А и К, мы должны поделить итоговое количество на 4 (дважды поделить на 2), поскольку с нашей точки зрения эти комбинации неотличимы друг от друга.

Другой способ убрать повторяющиеся комбинации — превратить ==набор перестановок== в ==множество==, которое в питоне исключает повторы

![Модуль itertools для решения задания 8, изображение №5](https://sun9-59.userapi.com/impf/19d_OT8FGrgsCSH_w-3QCuQCB0sLP88Q1Bo5CQ/cKpV6iwFdvA.jpg?size=297x226&quality=96&sign=a472ef055b57d2d31c5be73549b446bf&type=album)